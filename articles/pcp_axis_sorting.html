<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Parallel Coordinate Plots: Automaticaly Ordering Axes • gg1d</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Parallel Coordinate Plots: Automaticaly Ordering Axes">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gg1d</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/advanced_interactivity.html">Advanced Interactivity</a></li>
    <li><a class="dropdown-item" href="../articles/gallery.html">Gallery</a></li>
    <li><a class="dropdown-item" href="../articles/pcp_axis_sorting.html">Parallel Coordinate Plots: Automaticaly Ordering Axes</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/selkamand/gg1d/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Parallel Coordinate Plots: Automaticaly Ordering Axes</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/selkamand/gg1d/blob/v0.1.1-alpha/vignettes/articles/pcp_axis_sorting.Rmd" class="external-link"><code>vignettes/articles/pcp_axis_sorting.Rmd</code></a></small>
      <div class="d-none name"><code>pcp_axis_sorting.Rmd</code></div>
    </div>

    
    
<p>A major challenge when visualizing parallel coordinate plots is to
choose the order in which axes should be displayed.</p>
<p>This article describes the approach we use for crossing minimisation.
Note that there are other approaches that do not explicitly attempt to
minimise crossings, but rather order axes based on how informatively
they distinguish groups of interest. For example gg1d supports ordering
axes based on how much mutual information they share with the feature
being coloured by.</p>
<p>Sometimes however, especially if you’re not colouring by a particular
column of interest, crossing minimisation is the most sensible approach.
Crossing minimimisation is a more complex topic, so we’re dedicating a
full article to breaking down the approach used in gg1d. Note crossing
minimisation is automatically employed when
<code>order_columns_by = "auto"</code> and no colouring is applied</p>
<p>Here we describe an approach that involves</p>
<ol style="list-style-type: decimal">
<li>For each pair of dimensions, count how many crossings occur. (Could
be extended to support axis inversions by inverting the axis, computing
crossings again, and taking the minimum, although this is not yet
implemented in gg1d).</li>
<li>Conceptualise this pairwise matrix as a graph, where each dimension
is a node, and edge weights are the number of crossings between them.
Our problem is finding the ‘shortest’ (i.e. lowest total crossings) path
through the graph that visits each node once.</li>
<li>Convert this to the <a href="https://en.wikipedia.org/wiki/Travelling_salesman_problem" class="external-link">travelling
salesman problem</a> - depending on the algorithm you use, you may need
to add an extra node that is connected to every other node with ‘0’
crossings (to serve as the start-point). We won’t need to do this (for
reasons that will become clear when we talk about the algorithm)</li>
<li>If the number of dimensions is small (&lt;8) we can find the optimal
axis-order by brute-force. If the number of dimensions is larger
(&gt;=8), we’ll use the <strong>repetitive nearest neighbor
(rnn)</strong> heuristic approach with two-opt optimisation
(<strong>two-opt</strong>), implemented in the`TSP` package.</li>
</ol>
<p>Note the <strong>rnn</strong> + <strong>two-opt</strong> appraoch
does NOT guarantee you find the optimal solution, but will run quickly
and find near-optimal solutions in most cases, and can be implemented
without taking heavy non-R dependencies external dependencies that
complicate installation procedures (e.g. the concorde TSP solver).</p>
<div class="section level3">
<h3 id="repetitive-nearest-neighbour-algorithm">Repetitive Nearest Neighbour Algorithm<a class="anchor" aria-label="anchor" href="#repetitive-nearest-neighbour-algorithm"></a>
</h3>
<dl>
<dt>Nearest Neighbour Tour (nn)</dt>
<dd>
<p>A path where the ‘next’ dimension is always chosen based on which one
has the lowest # of crossings to the current current dimension</p>
</dd>
<dt>Repetitive Nearest Neighbour Algorithm (rnn)</dt>
<dd>
<p>Build a separate nearest neighbour tour using each dimension as a
starting point. Return only the tour producing the lowest number of
crossings</p>
</dd>
</dl>
<p>Obviously there are certain configurations of networks where nearest
neighbour algorithms will find highly non-optimal paths. To (partially)
mitigate this we take our best <strong>rnn</strong> solution and improve
it using the <strong>two-opt</strong> (a.k.a pairwise exchange)
algorithm. Two-Opt systematically removes and replaces two edges and in
the graph. We run a complete 2-opt local search, which will compare
every possible valid combination of the swapping mechanism.</p>
</div>
<div class="section level2">
<h2 id="alternative-metrics-to-minimise">Alternative Metrics to Minimise<a class="anchor" aria-label="anchor" href="#alternative-metrics-to-minimise"></a>
</h2>
<p>We can use the same algorithmic solution to minimise metrics other
than number of crossings, including ‘approximations’ of crossing numbers
based on subsets of data (to save time), or the mutual information
distance between each pair of dimensions (based on Joe et al. 1989).</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sam El-Kamand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
